<!DOCTYPE html>
<html lang="english">
  <head>
    <title>YouTube Downloader</title>
  </head>
  <link rel="stylesheet" href="style.css" />

  <script
    crossorigin="anonymous"
    integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ"
    src="https://lib.baomitu.com/jquery/1.12.4/jquery.min.js"
  ></script>

  <body>
    <h1 class="heading">My Own Youtube Downloader!</h1>
    <input class="URL-input" placeholder="Video URL" />
    <button class="download-button">download</button>
    <br>
    <button class="ok-button" >已经下载好的</button>
  </body>
</html>
<script>
  const downloadBtn = document.querySelector(".download-button");
  const URLinput = document.querySelector(".URL-input");
  const goFinishBtn = document.querySelector(".ok-button");

  downloadBtn.addEventListener("click", () => {
    console.log(`URL: ${URLinput.value}`);
    sendURL(URLinput.value);
  });

  goFinishBtn.addEventListener("click", () => {
    goToFinish();
  });


  function goToFinish() {
    window.location.href= window.location.href + 'down';
  }

  function sendURL(URL) {
    $.ajax({
      type: "POST",
      //the url where you want to sent the userName and password to
      url: "download",
      dataType: "application/json",
      async: true,
      //json object to sent to the authentication url
      data: {URL:URL},
      complete:function(text){
        alert(text.responseText);
      }
    });
  }
</script>
